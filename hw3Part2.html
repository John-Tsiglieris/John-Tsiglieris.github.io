<!doctype html>

<html lang="en">
<head>
  <title>Homework 3</title>
  <meta charset="utf-8">
  <meta name="Homepage" content="Homepage">
  <meta name="description" content="Homework 3">
  <link rel="stylesheet" href="styles.css?v=1.0">
  <style>
  table, th, td {
  border:0px solid black;
  }
  </style>
  <script>
    function process()
    {
      var sellerName = document.forms["myform"].elements["sellerName"].value;
      var item1, item2, item3, item4, qty1, qty2, qty3, qty4, total1, total2, total3, total4, grossTotal, earnings;
      //var price1, price2, price3, price4; price1 = 20.99; price2 = 12.75; price3 = 9.95; price4 = 35.89;
      var price1, price2, price3, price4; price1 = 20.99; price2 = 12.75; price3 = 9.95; price4 = 35.89;
      var errormessage = "ERROR! Nonnumber entered or input is less than 0";

      qty1 = document.forms["myform"].elements["item1"].value;
      qty2 = document.forms["myform"].elements["item2"].value;
      qty3 = document.forms["myform"].elements["item3"].value;
      qty4 = document.forms["myform"].elements["item4"].value;

      item1 = parseInt(qty1);
      item2 = parseInt(qty2);
      item3 = parseInt(qty3);
      item4 = parseInt(qty4);

      total1 = item1 * price1;
      total2 = item2 * price2;
      total3 = item3 * price3;
      total4 = item4 * price4;

      grossTotal = total1 + total2 + total3 + total4;
      earnings = 250 + (grossTotal * 0.09);

      if (isNaN(item1) || isNaN(item2) || isNaN(item3) || isNaN(item4) || item1 < 0 || item2 < 0 || item3 < 0 || item4 < 0) {
        document.forms["myform"].elements["r1c3"].value = qty1;
        document.forms["myform"].elements["r2c3"].value = qty2;
        document.forms["myform"].elements["r3c3"].value = qty3;
        document.forms["myform"].elements["r4c3"].value = qty4;

        document.forms["myform"].elements["r1c4"].value = Number(total1).toFixed(2);
        document.forms["myform"].elements["r2c4"].value = Number(total2).toFixed(2);
        document.forms["myform"].elements["r3c4"].value = Number(total3).toFixed(2);
        document.forms["myform"].elements["r4c4"].value = Number(total4).toFixed(2);

        document.forms["myform"].elements["totalAmount"].value = errormessage;
        document.forms["myform"].elements["weeklyEarnings"].value = errormessage;
      } else {
        document.forms["myform"].elements["r1c3"].value = qty1;
        document.forms["myform"].elements["r2c3"].value = qty2;
        document.forms["myform"].elements["r3c3"].value = qty3;
        document.forms["myform"].elements["r4c3"].value = qty4;

        document.forms["myform"].elements["r1c4"].value = Number(total1).toFixed(2);
        document.forms["myform"].elements["r2c4"].value = Number(total2).toFixed(2);
        document.forms["myform"].elements["r3c4"].value = Number(total3).toFixed(2);
        document.forms["myform"].elements["r4c4"].value = Number(total4).toFixed(2);

        document.forms["myform"].elements["totalAmount"].value = Number(grossTotal).toFixed(2);
        document.forms["myform"].elements["weeklyEarnings"].value = Number(earnings).toFixed(2);
      }
    }
  </script>
</head>

<body id="background" style="background: #333333 url('images/WhiteBackground.png');">
  <h1>Homework 3 - Part 2</h1>
  <form name="myform">
    <label for="sellerName">Seller's Name</label>
    <input type="text" id="sellerName" required>
    <p>For each item type the quantity sold by the seller</p>
    <label for="item1">Item 1:</label>
    <input type="number" id="item1" required><br><br>
    <label for="item2">Item 2:</label>
    <input type="number" id="item2" required><br><br>
    <label for="item3">Item 3:</label>
    <input type="number" id="item3" required><br><br>
    <label for="item4">Item 4:</label>
    <input type="number" id="item4" required><br><br>
    <input type="button" onclick="process()" value="SUBMIT"><br><br>
    <button type="reset" value="RESET">Clear Form</button>
    <table>
      <tr>
        <th><strong>Item#</strong></th>
        <th><strong>Price</strong></th>
        <th><strong>Qty Sold</strong></th>
        <th><strong>Total $</strong></th>
      </tr>
      <tr>
        <td>1</td>
        <td>$20.99</td>
        <td><input type="number" id="r1c3" readonly></td>
        <td><input type="number" id="r1c4" readonly></td>
      </tr>
      <tr>
        <td>2</td>
        <td>$12.75</td>
        <td><input type="number" id="r2c3" readonly></td>
        <td><input type="number" id="r2c4" readonly></td>
      </tr>
      <tr>
        <td>3</td>
        <td>$9.95</td>
        <td><input type="number" id="r3c3" readonly></td>
        <td><input type="number" id="r3c4" readonly></td>
      </tr>
      <tr>
        <td>4</td>
        <td>$35.89</td>
        <td><input type="number" id="r4c3" readonly></td>
        <td><input type="number" id="r4c4" readonly></td>
      </tr>
    </table>
    <table style="width:25.5%">
      <tr>
        <td><label for="totalAmount">Total Amount Sold</label></td>
        <td></td>
        <td></td>
        <td><input type="text" id="totalAmount" readonly></td>
      </tr>
      <tr>
        <td><label for="weeklyEarnings">Total Weekly Earnings</label></td>
        <td></td>
        <td></td>
        <td><input type="text" id="weeklyEarnings" readonly></td>
      </tr>
    </table>
  </form>
  <p class="link"><a href="./hw3Part1.html">Part 1</a></p>
  <p class="link"><a href="./hw3.html">Homework 3 Homepage</a></p>
  <p class="link"><a href="./index.html">Back to main page</a></p>

</body>
</html>
